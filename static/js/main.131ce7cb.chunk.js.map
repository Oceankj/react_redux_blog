{"version":3,"sources":["util.js","WebAPI.js","context.js","component/navBar.jsx","component/index.jsx","page/newPostPage/newPostPage.jsx","page/newPostPage/index.jsx","page/homePage/homePage.jsx","page/homePage/index.jsx","page/loginPage/App.jsx","page/loginPage/index.jsx","page/registerPage/App.jsx","page/registerPage/index.jsx","page/aboutPage/App.jsx","page/aboutPage/index.jsx","page/articlePage/articlePage.jsx","page/articlePage/index.jsx","App.jsx","index.js"],"names":["TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","BASE_URL","getPost","page","fetch","then","res","json","getMe","headers","authorization","AuthContext","createContext","NavBarWrapper","styled","div","Nav","Link","NavWrapper","Button","button","Title","p","App","useContext","user","setUser","history","useHistory","location","useLocation","to","onClick","pathname","push","NavBar","NewWrapper","ArticleTitle","ArticleInputTitle","input","ArticleContent","textarea","Submit","useState","title","setTitle","content","setContent","onSubmit","e","preventDefault","body","method","JSON","stringify","creatPost","catch","err","console","log","type","placeholder","value","onChange","target","cols","rows","NewPostPage","PostsWrapper","PostContainer","PostTime","PostTitle","PostHr","PageBar","Page","Post","post","id","Date","createdAt","toLocaleString","posts","setPost","total","setTotal","useEffect","data","listOfPage","Math","ceil","length","i","map","handleChangePage","innerText","HomePage","LogInWrapper","Subtitle","FormWrapper","Form","form","ErrorMessage","props","errorMessage","userName","setUserName","password","setPassword","setErrorMessage","username","logIn","ok","message","response","toString","LogInPage","RegisterWrapper","Input","nickName","setNickName","checkPassword","setCheckPassword","nickname","register","RegistertPage","ArticleWrapper","AboutPage","ArticleTime","setData","useParams","useLayoutEffect","getSinglePost","SingleArticlePage","Provider","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.131ce7cb.chunk.js","sourcesContent":["const TOKEN_NAME = 'token';\n\nexport const setAuthToken = (token) => {\n  localStorage.setItem(TOKEN_NAME, token);\n};\n\nexport const getAuthToken = () => localStorage.getItem(TOKEN_NAME);\n","import { getAuthToken } from './util';\n\nconst BASE_URL = 'https://student-json-api.lidemy.me';\n\nexport const getPost = page => fetch(\n  `${BASE_URL}/posts?_sort=createdAt&_order=desc&_page=${page}&_limit=10`,\n).then(res => res.json());\n\nexport const getTotalPage = () => fetch(`${BASE_URL}/posts`).then(res => res.json());\n\nexport const getSinglePost = id => fetch(`${BASE_URL}/posts?id=${id}`).then(res => res.json());\n\nexport const logIn = (username, password) => fetch(`${BASE_URL}/login`, {\n  method: 'POST',\n  headers: {\n    'content-type': 'application/json',\n  },\n  body: JSON.stringify({\n    username,\n    password,\n  }),\n}).then(res => res.json());\n\nexport const register = (nickname, username, password) => fetch(`${BASE_URL}/register`, {\n  method: 'POST',\n  headers: {\n    'content-type': 'application/json',\n  },\n  body: JSON.stringify({\n    nickname,\n    username,\n    password,\n  }),\n}).then(res => res.json());\n\nexport const getMe = () => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/me`, {\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  }).then(res => res.json());\n};\n\nexport const creatPost = (title, body) => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts`, {\n    method: 'POST',\n    headers: {\n      authorization: `Bearer ${token}`,\n      'content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      title,\n      body,\n    }),\n  }).then(res => res.json());\n};\n","/* eslint-disable import/prefer-default-export */\n/* eslint-disable import/no-unresolved */\nimport { createContext } from 'react';\n\nexport const AuthContext = createContext(null);\n","/* eslint-disable import/no-unresolved */\nimport styled from 'styled-components';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport React, { useContext } from 'react';\nimport { AuthContext } from '../context';\nimport { setAuthToken } from '../util';\n\nexport const NavBarWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 0px auto;\n  max-width: 1000px;\n  position: fixed;\n  top: 0px;\n  right: 0px;\n  left: 0px;\n  background-color: white;\n  border-bottom: 1px solid black;\n`;\n\nexport const Nav = styled(Link)`\n  & + & {\n    margin-left: 10px;\n  }\n`;\n\nexport const NavWrapper = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nexport const Button = styled.button`\n  padding: 5px;\n`;\n\nexport const Title = styled.p`\n  display: inline-flex;\n  font-size: 30px;\n  vertical-align: middle;\n  margin: 0px 27px 0px 0px;\n`;\n\nexport default function App() {\n  const { user, setUser } = useContext(AuthContext);\n  const history = useHistory();\n  const location = useLocation();\n\n  const handleLogOut = () => {\n    setAuthToken('');\n    setUser(null);\n    if (location.pathname !== '/') {\n      history.push('/');\n    }\n  };\n\n  return (\n    <NavBarWrapper>\n      <NavWrapper>\n        <Title>部落格</Title>\n        <Nav to=\"/\">\n          <Button>首頁</Button>\n        </Nav>\n        <Nav to=\"/about\">\n          <Button>關於我</Button>\n        </Nav>\n        {user && (\n          <Nav to=\"/new_post\">\n            <Button>新增文章</Button>\n          </Nav>\n        )}\n      </NavWrapper>\n      <NavWrapper>\n        {!user && (\n          <Nav to=\"/login\">\n            <Button>登入</Button>\n          </Nav>\n        )}\n        {!user && (\n          <Nav to=\"/registert\">\n            <Button>註冊</Button>\n          </Nav>\n        )}\n        {user && (\n          <div>\n            <Button onClick={handleLogOut}>登出</Button>\n          </div>\n        )}\n      </NavWrapper>\n    </NavBarWrapper>\n  );\n}\n","/* eslint-disable import/no-unresolved */\nimport React from 'react';\nimport App from './navBar';\n\nexport default function NavBar() {\n  return <App />;\n}\n","/* eslint-disable import/no-unresolved */\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { creatPost } from '../../WebAPI';\n\nconst NewWrapper = styled.div`\n  display: block;\n  margin: 70px auto;\n  max-width: 1000px;\n`;\n\nconst ArticleTitle = styled.p`\n  font-size: 20px;\n`;\n\nconst ArticleInputTitle = styled.input`\n  width: 292px;\n  height: 24px;\n`;\n\nconst ArticleContent = styled.textarea`\n  margin-top: 15px;\n  resize: none;\n`;\n\nconst Submit = styled.button`\n  display: block;\n  margin: 30px 0px 0px auto;\n  padding: 5px 45px;\n`;\n\nfunction App() {\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const history = useHistory();\n\n  const handleTitleChange = (e) => {\n    setTitle(e.target.value);\n  };\n\n  const handleContentChange = (e) => {\n    setContent(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    creatPost(title, content, history)\n      .then(() => history.push('/'))\n      .catch(err => console.log(err));\n  };\n\n  return (\n    <NewWrapper>\n      <div>\n        <form onSubmit={handleSubmit}>\n          <ArticleTitle>新增文章</ArticleTitle>\n          <ArticleInputTitle\n            type=\"text\"\n            placeholder=\"輸入標題\"\n            value={title}\n            onChange={handleTitleChange}\n          />\n          <ArticleContent\n            cols=\"110\"\n            rows=\"20\"\n            placeholder=\"輸入內容\"\n            value={content}\n            onChange={handleContentChange}\n          />\n          <Submit>送出</Submit>\n        </form>\n      </div>\n    </NewWrapper>\n  );\n}\nexport default App;\n","/* eslint-disable import/no-unresolved */\nimport React from 'react';\nimport App from './newPostPage';\n\nexport default function NewPostPage() {\n  return <App />;\n}\n","/* eslint-disable react/forbid-prop-types */\n/* eslint-disable import/no-extraneous-dependencies */\n/* eslint-disable react/require-default-props */\n/* eslint-disable import/no-unresolved */\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { getPost, getTotalPage } from '../../WebAPI';\n\nconst PostsWrapper = styled.div`\n  display: block;\n  margin: 60px auto;\n  max-width: 1000px;\n`;\n\nconst PostContainer = styled(Link)`\n  display: flex;\n  padding: 0px 40px;\n  align-items: flex-end;\n  justify-content: space-between;\n  border-radius: 5px;\n  cursor: pointer;\n  color: #555;\n  text-decoration: none;\n  :hover {\n    background-color: #80808047;\n  }\n`;\n\nconst PostTime = styled.p`\n  display: flex;\n`;\n\nconst PostTitle = styled.p`\n  display: flex;\n`;\n\nconst PostHr = styled.div`\n  display: flex;\n  margin: auto;\n  padding: 0px;\n  border-bottom: 1px solid #8080801f;\n  width: 918px;\n`;\n\nconst PageBar = styled.div`\n  display: flex;\n  margin-top: 20px;\n  justify-content: center;\n`;\n\nconst Page = styled.div`\n  margin: 8px;\n  padding: 5px;\n  border-radius: 5px;\n  cursor: pointer;\n  :hover {\n    background: #8080808f;\n    color: white;\n  }\n`;\n\nfunction Post({ post }) {\n  return (\n    <PostContainer to={`/article/${post.id}`}>\n      <PostTitle>{post.title}</PostTitle>\n      <PostTime>{new Date(post.createdAt).toLocaleString()}</PostTime>\n    </PostContainer>\n  );\n}\n\nPost.propTypes = {\n  post: PropTypes.object,\n};\n\nfunction App() {\n  const [posts, setPost] = useState([]);\n  const [total, setTotal] = useState([]);\n\n  useEffect(() => {\n    getTotalPage().then((data) => {\n      const listOfPage = [];\n      const page = Math.ceil(data.length / 10);\n      for (let i = 1; i <= page; i += 1) {\n        listOfPage.push(i);\n      }\n      setTotal(listOfPage);\n    });\n    getPost(1).then((res) => {\n      console.log(res);\n      setPost(res);\n    });\n  }, []);\n\n  const handleChangePage = (page) => {\n    getPost(page).then((res) => {\n      console.log(res);\n      setPost(res);\n    });\n  };\n\n  return (\n    <PostsWrapper>\n      {posts.map(post => (\n        <div key={post.id}>\n          <Post post={post} />\n          <PostHr />\n        </div>\n      ))}\n      <PageBar>\n        {total.map(page => (\n          <Page\n            key={page}\n            onClick={(e) => {\n              handleChangePage(e.target.innerText);\n            }}\n          >\n            {page}\n          </Page>\n        ))}\n      </PageBar>\n    </PostsWrapper>\n  );\n}\n\nexport default App;\n","/* eslint-disable import/no-unresolved */\nimport React from 'react';\nimport App from './homePage';\n\nexport default function HomePage() {\n  return <App />;\n}\n","/* eslint-disable consistent-return */\n/* eslint-disable import/no-unresolved */\nimport React, { useState, useContext } from 'react';\nimport styled from 'styled-components';\nimport { useHistory } from 'react-router-dom';\nimport { AuthContext } from '../../context';\nimport { logIn, getMe } from '../../WebAPI';\nimport { setAuthToken } from '../../util';\n\nconst LogInWrapper = styled.div`\n  display: block;\n  justify-item: space-between;\n  margin-top: 100px;\n`;\n\nconst Title = styled.p`\n  display: block;\n  font-size: 30px;\n  text-align: center;\n`;\n\nconst Subtitle = styled.p``;\n\nconst FormWrapper = styled.div`\n  display: flex;\n  text-align: center;\n`;\n\nconst Form = styled.form`\n  margin: 0px auto;\n  min-width: 400px;\n`;\n\nconst Button = styled.button`\n  margin-top: 30px;\n`;\n\nconst ErrorMessage = styled.p`\n  color: red;\n  ${props => (props.errorMessage ? 'visiblity:visible;' : 'visiblity:hidden;')}\n`;\n\nfunction App() {\n  const { setUser } = useContext(AuthContext);\n  const [userName, setUserName] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState(\n    '此為測試版本，密碼皆為 Lidemy',\n  );\n  const history = useHistory();\n\n  const handleSumit = (e) => {\n    e.preventDefault();\n    logIn(userName, password).then((data) => {\n      if (data.ok === 0) {\n        return setErrorMessage(data.message);\n      }\n      setAuthToken(data.token);\n\n      getMe().then((response) => {\n        if (response.ok !== 1) {\n          setAuthToken(null);\n          return setErrorMessage(response.toString());\n        }\n        setUser(response.data);\n        history.push('/');\n      });\n    });\n\n    setUserName('');\n    setPassword('');\n  };\n\n  return (\n    <LogInWrapper>\n      <Title>登入頁面</Title>\n      <FormWrapper>\n        <Form onSubmit={handleSumit}>\n          <div>\n            <Subtitle>username : </Subtitle>\n            <input\n              type=\"text\"\n              value={userName}\n              onChange={(e) => {\n                setUserName(e.target.value);\n              }}\n            />\n            <Subtitle>password : </Subtitle>\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => {\n                setPassword(e.target.value);\n              }}\n            />\n          </div>\n          <Button>登入</Button>\n          <ErrorMessage errorMessage={errorMessage}>\n            {errorMessage}\n          </ErrorMessage>\n        </Form>\n      </FormWrapper>\n    </LogInWrapper>\n  );\n}\n\nexport default App;\n","/* eslint-disable import/no-unresolved */\nimport React from 'react';\nimport App from './App';\n\nexport default function LogInPage() {\n  return <App />;\n}\n","/* eslint-disable consistent-return */\n/* eslint-disable import/no-unresolved */\nimport React, { useState, useContext } from 'react';\nimport styled from 'styled-components';\nimport { useHistory } from 'react-router-dom';\nimport { AuthContext } from '../../context';\nimport { register, getMe } from '../../WebAPI';\nimport { setAuthToken } from '../../util';\n\nconst RegisterWrapper = styled.div`\n  display: block;\n  justify-item: space-between;\n  margin-top: 100px;\n`;\n\nconst Subtitle = styled.p`\n  display: inline-block;\n`;\n\nconst Title = styled.p`\n  display: block;\n  font-size: 30px;\n  text-align: center;\n`;\n\nconst FormWrapper = styled.div`\n  display: flex;\n  text-align: right;\n`;\n\nconst Form = styled.form`\n  margin: 0px auto;\n  min-width: 400px;\n`;\n\nconst Button = styled.button`\n  margin-top: 30px;\n`;\n\nconst Input = styled.input`\n  margin-right: 80px;\n  margin-left: 20px;\n`;\n\nconst ErrorMessage = styled.p`\n  color: red;\n\n  ${props => (props.errorMessage ? 'visiblity:visible;' : 'visiblity:hidden;')}\n`;\n\nfunction App() {\n  const [nickName, setNickName] = useState('');\n  const [userName, setUserName] = useState('');\n  const [password, setPassword] = useState('');\n  const [checkPassword, setCheckPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const history = useHistory();\n  const { setUser } = useContext(AuthContext);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setErrorMessage('');\n    if (password !== checkPassword) {\n      return setErrorMessage('plaese confirm your password');\n    }\n    register(nickName, userName, password)\n      .then((data) => {\n        if (data.ok === 0) {\n          return setErrorMessage(data.message);\n        }\n        setAuthToken(data.token);\n        getMe().then((response) => {\n          if (response.ok !== 1) {\n            setAuthToken(null);\n            return setErrorMessage(response.toString());\n          }\n          setUser(response.data);\n          history.push('/');\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <RegisterWrapper>\n      <Title>註冊頁面</Title>\n      <FormWrapper>\n        <Form onSubmit={handleSubmit}>\n          <div>\n            <div>\n              <Subtitle>nick name : </Subtitle>\n              <Input\n                type=\"text\"\n                value={nickName}\n                onChange={(e) => {\n                  setNickName(e.target.value);\n                }}\n              />\n            </div>\n            <div>\n              <Subtitle>user name : </Subtitle>\n              <Input\n                type=\"text\"\n                value={userName}\n                onChange={(e) => {\n                  setUserName(e.target.value);\n                }}\n              />\n            </div>\n            <div>\n              <Subtitle>password : </Subtitle>\n              <Input\n                type=\"password\"\n                value={password}\n                onChange={(e) => {\n                  setPassword(e.target.value);\n                }}\n              />\n            </div>\n            <div>\n              <Subtitle>comfirm your password : </Subtitle>\n              <Input\n                type=\"password\"\n                value={checkPassword}\n                onChange={(e) => {\n                  setCheckPassword(e.target.value);\n                }}\n              />\n            </div>\n          </div>\n          <Button>註冊</Button>\n          <ErrorMessage errorMessage={errorMessage}>\n            {errorMessage}\n            {' '}\n          </ErrorMessage>\n        </Form>\n      </FormWrapper>\n    </RegisterWrapper>\n  );\n}\n\nexport default App;\n","/* eslint-disable import/no-unresolved */\nimport React from 'react';\nimport App from './App';\n\nexport default function RegistertPage() {\n  return <App />;\n}\n","/* eslint-disable import/no-unresolved */\nimport styled from 'styled-components';\nimport React from 'react';\n\nconst ArticleWrapper = styled.div`\n  display: block;\n  margin: 70px auto;\n  max-width: 1000px;\n`;\n\nconst ArticleTitle = styled.p`\n  font-size: 25px;\n`;\n\nconst ArticleContent = styled.p`\n  word-break: break-all;\n  white-space: break-spaces;\n`;\n\nfunction App() {\n  return (\n    <ArticleWrapper>\n      <div>\n        <ArticleTitle>關於我</ArticleTitle>\n      </div>\n      <ArticleContent>嗨嗨嗨嗨嗨嗨你好啊</ArticleContent>\n    </ArticleWrapper>\n  );\n}\n\nexport default App;\n","/* eslint-disable import/no-unresolved */\nimport React from 'react';\nimport App from './App';\n\nexport default function AboutPage() {\n  return <App />;\n}\n","/* eslint-disable import/no-unresolved */\nimport React, { useState, useLayoutEffect } from 'react';\nimport styled from 'styled-components';\nimport { useParams } from 'react-router-dom';\nimport { getSinglePost } from '../../WebAPI';\n\nconst ArticleWrapper = styled.div`\n  display: block;\n  margin: 70px auto;\n  max-width: 1000px;\n`;\n\nconst ArticleTitle = styled.p`\n  font-size: 20px;\n`;\n\nconst ArticleTime = styled.p``;\n\nconst ArticleContent = styled.p`\n  word-break: break-all;\n  white-space: break-spaces;\n`;\n\nfunction App() {\n  const [data, setData] = useState([]);\n  const { id } = useParams();\n\n  useLayoutEffect(() => {\n    getSinglePost(id).then((res) => {\n      setData(res);\n    });\n  }, []);\n\n  return (\n    <ArticleWrapper>\n      <div>\n        <ArticleTitle>{data.length > 0 && data[0].title}</ArticleTitle>\n        <ArticleTime>\n          {data.length > 0 && new Date(data[0].createdAt).toLocaleString()}\n        </ArticleTime>\n      </div>\n      <ArticleContent>{data.length > 0 && data[0].body}</ArticleContent>\n    </ArticleWrapper>\n  );\n}\n\nexport default App;\n","/* eslint-disable import/no-unresolved */\nimport React from 'react';\nimport App from './articlePage';\n\nexport default function SingleArticlePage() {\n  return <App />;\n}\n","/* eslint-disable import/no-unresolved */\nimport React, { useState, useEffect } from 'react';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport { getMe } from './WebAPI';\nimport { AuthContext } from './context';\nimport NavBar from './component';\nimport NewPostPage from './page/newPostPage';\nimport HomePage from './page/homePage';\nimport LogInPage from './page/loginPage';\nimport RegistertPage from './page/registerPage';\nimport AboutPage from './page/aboutPage';\nimport SingleArticlePage from './page/articlePage';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      getMe().then((response) => {\n        if (response.ok) {\n          setUser(response.data);\n        }\n      });\n    }\n  }, []);\n\n  return (\n    <div>\n      <AuthContext.Provider value={{ user, setUser }}>\n        <Router>\n          <NavBar />\n          <Switch>\n            <Route exact path=\"/\">\n              <HomePage />\n            </Route>\n            <Route exact path=\"/login\">\n              <LogInPage />\n            </Route>\n            <Route path=\"/new_post\">\n              <NewPostPage />\n            </Route>\n            <Route exact path=\"/registert\">\n              <RegistertPage />\n            </Route>\n            <Route exact path=\"/about\">\n              <AboutPage />\n            </Route>\n            <Route path=\"/article/:id\">\n              <SingleArticlePage />\n            </Route>\n          </Switch>\n        </Router>\n      </AuthContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","/* eslint-disable import/no-unresolved */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}